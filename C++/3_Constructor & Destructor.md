생성자(Constructor)와 소멸자(Destructor)
=======================================
모든 클래스는 생성자 함수와 소멸자 함수라는 특수한 함수를 갖게 된다. 클래스를 만들 때, 생성자 함수와 소멸자 함수를 반드시 만들어 주어야 하는 것은 아니다. 생략할 경우 컴파일러가 아무 일도 하지 않는 생성자와 소멸자 함수를 암시적으로 만들어준다.

## 생성자(Constructor)
객체를 생성할 때, 멤버 변수들에게 초깃 값을 줄 수 있어야하는 그 역활을 생성자가 한다. 멤버변수는 main문에서나 다른 곳에서 접근 할 수 없는 데이터가 은닉되어 있기 때문에 초기에 딱한번 초기화 하는 것을 말한다.

## 소멸자(Destructor)
생성자가 객체 생성시 호출되는 함수라면, 소멸자는 객체 소멸시 호출되는 함수이다. 생성자와 구분 하기 위해 함수명 앞에 ~기호를 붙인다. 또한 전달 하는 매개변수도 없다.

### 생성자 와 소멸자 함수 언제 호출 해야 할까?
생성자 함수와 소멸자 함수는 명시되어 있지 않아도 때가 되면 자동으로 호출되는 특수한 함수이다.  
* 생성자 함수 : 인스턴스가 생성될 때 자동으로 호출된다.
* 소멸자 함수 : 인스턴스가 소멸될 때 자동으로 호출된다.

## 인스턴스 생성과 소멸
위에 말했듯이 생성자 함수와 소멸자 함수는 인스턴스가 생성되고 소멸될 때 호출되는 것을 알 수 있다. 그러면 인스턴스는 언제 생성되고, 소멸되는지 알아보겠다.

* 지역변수(자동변수) : 함수의 실행이 시작될 때 인스턴스가 자동으로 생성되고, 함수의 실행이 끝나면 인스턴스가 자동으로 소멸된다.

* 전역변수 : 프로그램이 시작될 때 인스턴스가 생성되고, 프로그램이 끝나면 인스턴스가 소멸된다.

* 정적변수 : 정적변수는 변수 선언 앞에 static이라는 키워드를 붙인 변수로써 함수내에서 선언되지만 전역변수와 똑같이 생성되고 소멸된다.

__ex)__
```
int a;//전역변수
void MyFunction()
{
  int b;//지역변수
  static int c;//정적변수
}
```

### 생성자와 소멸자가 호출되는 시기
생성자와 소멸자 함수가 호출되는 시기는 클래스의 인스턴스가 전역변수인지 정적변수 인지 또는 지역변수로 선언됐는지에 따라 달라진다.

## 생성자 함수와 소멸자 함수의 역활

* 생성자 함수 역활 : 필요한 메모리를 할당 받거나 변수의 값을 초기화 하는 등의 초기화 루틴을 넣어주면 된다.

* 소멸자 함수 역활 : 클래스에서 할당 받은 메모리를 해제하는 등의 정리 루틴으 넣어주면 된다.

## 매개변수가 있는 생성자
생성자 함수도 다른 함수들처럼 매개변수를 넘겨 받을 수 있다.

```
class myData {
  public:
    myData(int amount); //매개변수를 넘겨 받는 생성자 함수
    myData(); //기본 생성자 함수
    virtual ~myData();

    protected:
      char *m_pData; //멤버변수
}
```
위와 같이 생성자 함수를 myData(int amount)와 같이 매개변수를 받을 수 있는 함수를 추가하면 된다.

```
myData::myData(int amount)
{
  m_pData = (char *) new char [amount];
}
```
위와 같이 매개변수로 넘겨 받은 값만큼 메모리를 할당 받도록 하면 된다.

```
myData::~myData()
{
  delete [] m_pData;
}
```
위와 같이 소멸자 함수에서는 할당 받은 메모리를 해재하도록 해주면, 다 사용하고 나면 자동으로 사용한 메모리를 해제 하게 된다.

실제로 생성자 함수에 매개 변수를 어떻게 넘겨 주는지 보면
```
void MyFunction()
{
  myData b(50); // myData형 인스턴스를 만듬
  ...
}
```
위와 같이 인스턴스를 생성하는 부분 괄호 안에 매개변수를 넣어서 넘기면 된다.

## 생성자와 소멸자 함수를 정의할 때 주의점

* 생성자와 소멸자 함수의 함수명은 클래스 명으로부터 자동 결정된다.

* 생성자와 소멸자 함수는 반환값을 가질 수 없다. 즉, return 키워드를 사용하여 반환 불가능하다.

* 생성자 함수는 가상함수(virtual function)로 정의될 수 없으며 소멸자 함수는 가상함수로 정의되어야 한다.

* 생성자 함수는 매개 변수를 넘겨 받을 수 있지만 소멸자 함수는 넘겨 받을 수 없다.
